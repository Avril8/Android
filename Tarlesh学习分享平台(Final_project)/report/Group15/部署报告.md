# 一个文档

 by lt


## 使用方法  

安装运行服务器：  
先执行init.sql文件。  （如果你有filesystem这个名字的数据库，请先删掉）
server目录下，yarn（没有的话请自行安装），然后 node index。 （因为有的包我全局装了可能没注意，缺啥装啥就对了）  
然后就运行起来了。  

------

## 功能

1. 用户管理
   - 登录登出，注册，用户详情  
2. 文件管理  
   - 上传下载
3. 搜索  
   - 标签分组之类的 （这个没想好怎么搞）
   - 名称之类的
4. 激励  
   - 用户排名
   - 文件排名
   - （其实我觉得换成积分会稍微好点，而且应该是一个表的事，当然下载验证的时候也要加一点东西（＞人＜；）

页面功能：

- 打开APP页面，广告三秒跳转。（梁颖霖
- 登陆注册注销页面。
- 文档排行榜。（梁颖霖
- 主页推荐，搜索页面。上传按钮。（梁颖霖
- 文档详情，评分，访问次数，下载量。下载按钮。（梁育诚
- 问答quiz。（梁育诚
- 用户详情页面 一些积分，名字，退出，曾经下载，曾经上传。（梁庭



api：

- 用户注册
- 用户登陆
- 文档的上传
- 文档的下载
- quiz的新建
- 新建一个quiz的回答



基类：

用户

- 积分
- 名字
- 曾经下载
- 曾经上传



文档

- 名字
- 评分
- 下载量
- 内容详情介绍
- 评价数组



quiz

- answer的数组

------

## 数据库设计  

### 1. user 

用户表

------

| uid      | username       | pwd          | phone  | email |
| -------- | -------------- | ------------ | ------ | ----- |
| 标识用户 | 字符串，用户名 | 字符串，密码 | 手机号 | 邮箱  |

------

### 2. file  

文件表  

------

| fid                      | filename     | description | createTime | owner  |
| ------------------------ | ------------ | ----------- | ---------- | ------ |
| 标识文件以及存储用的名字 | 原来的文件名 | 描述        | 上传时间   | 所有者 |

| cid      | uid    | fid    | msg      | createTime |
| -------- | ------ | ------ | -------- | ---------- |
| 评论识别 | 用户id | 文件id | 评论内容 | 评论时间   |



------

### 3. operateRecord  

下载（上传，点赞等，然而现在并没有）操作的记录   

------

|   oid    |  fid   |  uid   |  opTime  |
| :------: | :----: | :----: | :------: |
| 操作识别 | 文件id | 用户id | 操作时间 |

------

### 积分  

根据operateRecord现场算  

### 论坛  

| qid    | uid      | title | content | createTime |
| ------ | -------- | ----- | ------- | ---------- |
| 问题id | 发起人id | 标题  | 内容    | 创建时间   |


